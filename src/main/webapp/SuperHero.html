<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DC Heroes Command Center</title>
    <style>
        body {
            background: radial-gradient(circle at top, #0f2027, #203a43, #2c5364);
            color: #fff;
            font-family: 'Segoe UI', sans-serif;

            padding: 2rem;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #ffcc00;
        }
        .button-panel {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap; /* allows buttons to wrap nicely on smaller screens */
            margin-top: 2rem;
        }

        .button-panel button {
            padding: 1rem 2rem;
            font-size: 1.1rem;
            margin: 1rem;
            border: none;
            border-radius: 8px;
            background-color: #e74c3c;
            justify-content: center;
            color: white;
            cursor: pointer;
            transition: 0.3s;
        }

        .button-panel button:hover {
            background-color: #c0392b;
        }

        .heroes {
            display: flex;
            justify-content: center;
            text-align: center;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .hero {
            width: 150px;
        }

        .hero img {
            width: 100%;
            border-radius: 12px;
            border: 2px solid #fff;
        }

        #log {
            background-color: #ffffff11;
            border: 1px solid #fff2;
            padding: 1rem;
            margin-top: 1rem;
            border-radius: 10px;
            min-height: 150px;
            font-family: monospace;
            white-space: pre-wrap;
            text-align: left;
        }
        header {
            background: radial-gradient(circle at top, #0f2027, #203a43, #2c5364);
            padding: 1.5rem;
            font-size: 2rem;
            text-align: center;
            border-bottom: 3px solid #c0392b;
            color: #ffcc00;
            letter-spacing: 2px;
            box-shadow: 0 0 15px black;
        }
        .uml-image {
            margin: 1rem 0;
            text-align: center;
        }

        .uml-image img {
            max-width: 100%;
            height: auto;
            border-radius: 6px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>
<body>
<header>
    üåå Commando Design pattern - Crisis at Metropolis
</header>
<div class="description">
    <p><strong>üìò Scenario:</strong></p>
    <p>
        The Justice League Command Center is equipped with a high-tech <strong>Control Panel</strong> (Invoker). Each button on this panel is wired to a <em>Command</em> object
        that knows <strong>what action to take</strong> and <strong>which superhero (Receiver)</strong> to call upon.
        When danger strikes, the panel simply triggers the right command‚Äîheroes leap into action without the panel knowing how it all works.
    </p>
    <ul>
        <li>ü¶∏‚Äç‚ôÇÔ∏è <strong>Superman</strong> ‚Äì flies in to handle large-scale threats</li>
        <li>ü¶á <strong>Batman</strong> ‚Äì uses tech and tactics to handle chaos</li>
        <li>‚ö° <strong>Flash</strong> ‚Äì speeds in for rescue and recovery missions</li>
    </ul>

    <p><strong>‚ö†Ô∏è Problem:</strong></p>
    <ul>
        <li>The Control Panel must handle dozens of mission types and heroes, leading to tightly coupled code.</li>
        <li>Adding new buttons or actions requires altering core control logic.</li>
        <li>No uniform way to trigger complex sequences like undo, queue, or log.</li>
    </ul>

    <p><strong>üí° Command Pattern Solution:</strong></p>
    <p>
        Each action is wrapped in a <code>Command</code> object that decouples the invoker (panel) from the receiver (hero).
        The Control Panel doesn't need to know how Superman flies or how Batman throws his batarang.
        All it does is call <code>execute()</code> on the command‚Äîand the magic happens behind the scenes.
    </p>

    <div class="uml-image">
        <img src="images/Command.png" alt="Command Design Pattern UML Diagram">
    </div>

    <p><strong>üñ•Ô∏è Output:</strong></p>
    <pre style="font-size: 0.8rem;"><code>
=== Crisis: Alien Drone Attack ===

[ControlPanel] Activating command...
[Superman] Flying at hypersonic speed to Metropolis!
[Superman] Rescuing civilians from collapsing buildings!

=== Crisis: Joker‚Äôs Drone Swarm ===

[ControlPanel] Activating command...
[Batman] Launching Batarang to disable the drone swarm!

=== Crisis: Collapsed Subway Tunnel ===

[ControlPanel] Activating command...
[Flash] Speed-blur rescuing victims in seconds!
    </code></pre>

    <div style="margin-top:1rem;">
        <a href="https://github.com/Tharindu714/Design-Patterns-FULL/blob/4ff2bfe2f5eab3fdb8fdf7d9654854c12c07e2c4/src/main/java/com/tharindu/oodp1/Command/CommandPatternDemo.java"
           target="_blank" style="
            display: inline-block;
            padding: 0.6rem 1.2rem;
            background-color: #c0392b;
            color: #fff;
            text-decoration: none;
            border-radius: 6px;
            font-weight: bold;
            font-family: 'Segoe UI', sans-serif;">
            üîó View Code on GitHub
        </a>
    </div>
</div>
<br/>
<div class="heroes">
    <div class="hero">
        <img src="https://freepngimg.com/save/21362-superman-transparent-image/790x1012" alt="Superman"/>
        <p>Superman</p>
    </div>
    <div class="hero">
        <img src="https://www.pngarts.com/files/2/Batman-PNG-Image-with-Transparent-Background.png" alt="Batman"/>
        <p>Batman</p>
    </div>
    <div class="hero">
        <img src="https://www.pngplay.com/wp-content/uploads/13/Flash-Background-PNG-Image.png" alt="Flash"/>
        <p>Flash</p>
    </div>
</div>

<div class="button-panel">
    <button onclick="triggerCrisis('alien')">üõ∏ Alien Drone Attack</button>
    <button onclick="triggerCrisis('joker')">ü§° Joker's Drone Swarm</button>
    <button onclick="triggerCrisis('subway')">üöá Collapsed Subway Tunnel</button>
</div>

<div id="log">[System Ready] Choose a crisis to deploy heroes!</div>

<script>
    class Superman {
        flyToCity() {
            return "[Superman] Flying at hypersonic speed to Metropolis!";
        }

        rescueCivilians() {
            return "[Superman] Rescuing civilians from collapsing buildings!";
        }
    }

    class Batman {
        deployBatarang() {
            return "[Batman] Launching Batarang to disable the drone swarm!";
        }
    }

    class Flash {
        speedRescue() {
            return "[Flash] Speed-blur rescuing victims in seconds!";
        }
    }

    class FlyCommand {
        constructor(hero) {
            this.hero = hero;
        }

        execute() {
            return [
                this.hero.flyToCity(),
                this.hero.rescueCivilians()
            ];
        }
    }

    class BatarangCommand {
        constructor(hero) {
            this.hero = hero;
        }

        execute() {
            return [this.hero.deployBatarang()];
        }
    }

    class SpeedRescueCommand {
        constructor(hero) {
            this.hero = hero;
        }

        execute() {
            return [this.hero.speedRescue()];
        }
    }

    class ControlPanel {
        setCommand(command) {
            this.command = command;
        }

        pressButton() {
            if (this.command) {
                return ["[ControlPanel] Activating command...", ...this.command.execute()];
            } else {
                return ["[ControlPanel] No command assigned!"];
            }
        }
    }

    function triggerCrisis(type) {
        const panel = new ControlPanel();
        let logs = [];

        switch (type) {
            case 'alien':
                const superman = new Superman();
                panel.setCommand(new FlyCommand(superman));
                logs.push("=== Crisis: üõ∏ Alien Drone Attack ===");
                break;
            case 'joker':
                const batman = new Batman();
                panel.setCommand(new BatarangCommand(batman));
                logs.push("=== Crisis: ü§° Joker's Drone Swarm ===");
                break;
            case 'subway':
                const flash = new Flash();
                panel.setCommand(new SpeedRescueCommand(flash));
                logs.push("=== Crisis: üöá Collapsed Subway Tunnel ===");
                break;
        }

        logs.push(...panel.pressButton());
        document.getElementById("log").textContent = logs.join("\n");
    }
</script>
<footer>
    Built with ‚ù§Ô∏è by Tharindu714 ‚Äî OODP1 Final Showcase
</footer>
</body>
</html>